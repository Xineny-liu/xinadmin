"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[866],{78536:function(j,r,t){t.d(r,{$6:function(){return v},MZ:function(){return c},Yt:function(){return h},Z1:function(){return f},av:function(){return o},lu:function(){return i}});var a=t(27023),s="/",i=function(){return(0,a.Z)({baseURL:s,url:"/index.php?s=/api/install/baseCheck",method:"get"})},c=function(u){return(0,a.Z)({baseURL:s,url:"/index.php?s=/api/install/testDatabase",method:"post",data:u})},f=function(u){return(0,a.Z)({baseURL:s,url:"/index.php?s=/api/install/writeEnv",method:"post",data:u})},v=function(){return(0,a.Z)({baseURL:s,url:"/index.php?s=/api/install/installWeb",method:"post",timeout:10*60*1e3})},h=function(){return(0,a.Z)({baseURL:s,url:"/index.php?s=/api/install/installSql",method:"post",timeout:10*60*1e3})},o=function(u){return(0,a.Z)({baseURL:s,url:"/index.php?s=/api/install/setUser",method:"post",data:u})}},31327:function(j,r,t){t.r(r),t.d(r,{default:function(){return U}});var a=t(48305),s=t.n(a),i=t(75271),c=t(78536),f=t(18648),v=t(45879),h=t(81905),o=t(2762),l=t(35845),u=t(79376),y=t(38687),p=t(46985),E=t(55865),n=t(52676);function U(){var A=(0,E.s0)(),L=(0,i.useState)(),m=s()(L,2),x=m[0],R=m[1],b=(0,i.useState)(!1),Z=s()(b,2),D=Z[0],g=Z[1],P=(0,i.useState)(!1),C=s()(P,2),S=C[0],B=C[1];(0,i.useEffect)(function(){g(!0),(0,c.lu)().then(function(e){R(e.data.data),B(e.data.data.every(function(d){return d.status}))}).catch(function(){o.ZP.error("\u8BF7\u6C42\u51FA\u9519\uFF01")}).finally(function(){g(!1)})},[]);var O=function(){if(!S){o.ZP.warning({content:"\u8BF7\u68C0\u67E5\u73AF\u5883\u662F\u5426\u5F02\u5E38\uFF01"}).then(function(d){});return}localStorage.setItem("status","second"),localStorage.setItem("time",String(Date.now())),A("/second",{replace:!0})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Z,{spinning:D,children:(0,n.jsxs)("div",{className:"list-body",children:[(0,n.jsx)(u.Z.Title,{level:4,style:{textAlign:"center"},children:"\u5B89\u88C5\u73AF\u5883\u68C0\u67E5"}),x==null?void 0:x.map(function(e,d){return(0,n.jsxs)("div",{className:"list-item",children:[(0,n.jsx)("div",{children:e.name}),(0,n.jsxs)("div",{children:[e.message," \xA0\xA0\xA0",e.status&&(0,n.jsx)(f.Z,{style:{color:"#52c41a"}}),!e.status&&(0,n.jsx)(v.Z,{style:{color:"#ff4d4f"}})]})]},d)})]})}),(0,n.jsxs)(y.Z,{gap:"small",wrap:!0,justify:"flex-end",children:[(0,n.jsxs)(p.ZP,{type:"link",style:{color:"#ffa940"},children:[(0,n.jsx)(h.Z,{})," \u83B7\u53D6\u5E2E\u52A9"]}),(0,n.jsx)(p.ZP,{type:"primary",disabled:!S,onClick:O,children:"\u4E0B\u4E00\u6B65"})]})]})}}}]);
